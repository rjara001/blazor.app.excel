@using BlazorAppExcel.Interfaces
@using Blazored.LocalStorage
@using Models

@inject IExcelService excelService
@inject ISessionSingletonService userServices;
@inject NavigationManager NavigationManager;

<FluentNavMenu Width="250">
    <FluentNavLink Icon="@(new Icons.Regular.Size24.Home())">Dashboard</FluentNavLink>

    <FluentNavGroup Title="Design">
        <FluentNavLink Href="/design/upload" Icon="@(new Icons.Regular.Size24.LeafOne())">Upload</FluentNavLink>
        <FluentNavLink Href="/design/tables" Icon="@(new Icons.Regular.Size24.LeafOne())">Tables</FluentNavLink>
        <FluentNavLink Href="/design/columns" Icon="@(new Icons.Regular.Size24.LeafOne())">Columns</FluentNavLink>
            </FluentNavGroup>
            <FluentNavLink Icon="@(new Icons.Regular.Size24.CalendarAgenda())" Disabled="true">About</FluentNavLink>
        </FluentNavMenu>

@code {
    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse1" : null;

    private IList<TableExcel> tables = new List<TableExcel>();

    public void HandleNavLinkClick(TableExcel table)
    {
        this.userServices.User.TableActive = table;

        NavigationManager.NavigateTo($"work/tables/{table.Name}");
        // Href =@($"app/{@table.CodeName}"
    }

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
